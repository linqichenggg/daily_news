# 单机游戏日报项目问题与解决方案总结

## 项目概述
本项目是一个自动生成单机游戏日报视频的系统，主要包含以下组件：
- 新闻抓取（Reddit + 3DM）
- 新闻分析整理（Gemini）
- 内容生成（DeepSeek-V3）
- 语音合成（MiniMax TTS）
- 视频合成（MoviePy）

## 主要问题及解决方案

### 1. Gemini API 调用问题

**问题描述：**
- 无论是 Gemini-2.5-flash 还是 Gemini-2.5-pro，都遇到输入或输出内容过长导致无法正常返回结果
- 特别是在分析新闻JSON文件时，内容较长容易触发API限制

**解决方案：**
- 采用流式响应（streaming response）替代一次性完整响应
- 允许无限等待LLM返回内容，不设置超时限制
- 分批接收和处理回复内容，确保不会因为单次响应过大而失败
- 使用 pro 模型以获得更稳定的性能

**相关代码：**
- `news2md/analyzer.py` 中的流式处理逻辑
- 配置使用 `gemini-2.5-pro` 模型

### 2. Reddit爬虫 

- 申请api失败，发现官方规则更改
- 转用RSS